<resource-list inline-template>
<div class="library-container">
  
  <div class="row align-center">
    <div class="column small-12 medium-7 large-8">
      <h1>Library</h1>
      <p>Welcome to our pool of resources</p>
      <br />
      <br />
    </div>
    <div class="small-4 medium-2 large-1 column">
      <label for="sort_by" class="text-right middle">sort by:</label>
    </div>
    <div class="small-8 medium-3 large-2 column">
      <select id="sort_by" v-model="sortBy">
        <option disabled value="">options</option>
        <option value="title">title</option>
        <option value="published_at">published date</option>
        <option value="estimated_reading_time">reading time</option>
      </select>
    </div>
  </div>

  <div class="row align-center">
    <div class="column small-12 medium-12 large-10">
    <div class="grid-x grid-margin-x small-up-1 medium-up-2 large-up-3 library-items">  
        <div class="cell" v-for="resource in sortedResources">
          <div class='card resource-card'>
            <div class="image-holder">
              <img v-if="resource.image.url" :src="resource.image.thumb.url" alt="resource thumbnail" />
              <i v-if="!resource.image.url" :class="'fa fa-' + icons[resource.resource_type]"></i>
            </div>
            
                <div class='card-section'>
                <a :href="'/library/' + resource.id" alt="link to resource">
                <h6>{{resource.title}}</h6>
                <div class="text-justify" v-html="$options.filters.truncate(resource.short_summary, 200)"></div>
                <span class="type-icon"><i :class="'fa fa-' + icons[resource.resource_type]"></i></span>
                </a>
              </div>
         
          </div>
        </div>
      </div>
    </div>
  </div>
  <infinite-loading v-on:infinite="infiniteHandler" id="infini" force-use-infinite-wrapper="true" :spinner="'waveDots'" :distance="100"></infinite-loading>
</div>

</resource-list>